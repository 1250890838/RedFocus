<UserControl x:Class="RedFocus.Controls.MenuPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:RedFocus.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="428" d:DesignWidth="360"
             >

    <UserControl.Resources>
        <Style x:Key="MenuButtonStyle" TargetType="Button">
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Border x:Name="border" 
                                    Background="{DynamicResource PrimaryBackgroundBrush}"
                                    BorderBrush="Transparent"
                                    >
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                            </Border>
                            <Rectangle x:Name="selectionIndicator"
                                      Height="3"
                                      VerticalAlignment="Bottom"
                                      Margin="30,0"
                                      Visibility="Collapsed"
                                      RenderTransformOrigin="0.5,0.5"
                                       Fill="{DynamicResource AccentBrush}"
                                       >
                                <Rectangle.RenderTransform>
                                    <ScaleTransform x:Name="indicatorScale" ScaleX="0.1"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource AccentBrush}"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Selected">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="indicatorScale"
                                                           Storyboard.TargetProperty="ScaleX"
                                                           From="0.1"
                                                           To="1"
                                                           Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="selectionIndicator"
                                                                            Storyboard.TargetProperty="Visibility"
                                                                            BeginTime="0:0:0.2">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="indicatorScale"
                                                           Storyboard.TargetProperty="ScaleX"
                                                           From="1"
                                                           To="0.1"
                                                           Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseIn"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="selectionIndicator"
                                                                            Storyboard.TargetProperty="Visibility"
                                                                            BeginTime="0:0:0.2">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Timer Icon Geometry -->
        <Geometry x:Key="TimerIconGeometry">M512,61.44 A450.56,450.56 0 1 1 512,962.56 A450.56,450.56 0 1 1 512,61.44 M512,122.88 A389.12,389.12 0 1 1 512,901.12 A389.12,389.12 0 1 1 512,122.88 M491.52,276.48 L491.52,512 L647.59808,687.59552</Geometry>
        
        <!-- Settings Icon Geometry -->
        <Geometry x:Key="SettingsIconGeometry">M510.37806 337.803609c-96.24588 0-174.50665 77.506889-174.50665 172.757676 0 95.261021 78.26077 172.771003 174.50665 172.771003 96.256113 0 174.520976-77.509959 174.520976-172.771003C684.899036 415.310498 606.634173 337.803609 510.37806 337.803609zM510.37806 598.070729c-48.833198 0-88.555893-39.117011-88.555893-87.502281 0-48.378107 39.722695-87.488955 88.555893-87.488955 48.844455 0 88.570219 39.110848 88.570219 87.488955C598.948279 558.953718 559.222515 598.070729 510.37806 598.070729z M938.476161 432.79917c-2.185782-11.426237-11.037381-20.499893-22.563902-23.12058-41.909505-9.508561-76.781734-34.929534-98.185206-71.550593-21.334911-36.560684-26.191522-79.099523-13.68979-119.709429 3.52836-11.123338 0.007163-23.235191-8.951883-30.840402-41.860387-35.721573-89.536222-62.938448-141.695163-80.885192-3.152806-1.088798-6.437619-1.639337-9.776667-1.639337-8.256034 0-16.182564 3.431146-21.724791 9.376555-29.236881 31.04404-68.840878 48.140417-111.5107 48.140417-42.673915 0-82.305541-17.125029-111.607914-48.230468-7.877411-8.333806-20.510126-11.512195-31.580253-7.726985-52.483328 18.171871-100.131535 45.416376-141.640927 80.988546-8.815783 7.591909-12.322653 19.620873-8.934486 30.67258 12.586666 40.645722 7.759731 83.180468-13.597693 119.78106-21.306258 36.5965-56.149834 62.006216-98.17395 71.561849-11.540847 2.709715-20.396539 11.812023-22.559808 23.166629-5.228071 27.169803-7.877411 54.346769-7.877411 80.770582 0 26.426883 2.64934 53.603849 7.873318 80.763418 2.174526 11.411911 11.023054 20.488637 22.552645 23.12058 41.913599 9.512654 76.785827 34.922371 98.19237 71.547523 21.349237 36.59343 26.177196 79.128175 13.583366 119.795387-3.363607 10.969842 0.121773 23.013133 8.973372 30.758538 41.84913 35.707246 89.494267 62.920028 141.662417 80.902588 11.466146 3.885494 23.738657 0.549515 31.454386-7.680936 29.29828-31.091112 68.925812-48.216141 111.593588-48.216141s82.302471 17.125029 111.560842 48.183396c5.556553 5.955642 13.494339 9.380648 21.782096 9.380648 3.27765 0 6.537903-0.520863 9.829879-1.599428 52.126194-17.968234 99.774401-45.184085 141.652184-80.912821 8.791224-7.577582 12.308327-19.628036 8.94165-30.758538-12.597923-40.678468-7.745405-83.20605 13.672394-119.773897 21.324678-36.625152 56.192813-62.030775 98.19237-71.547523 11.390421-2.592035 20.23588-11.633968 22.549575-23.106254 5.223978-27.184129 7.870248-54.358025 7.870248-80.770582C946.342316 487.171522 943.697069 459.965903 938.476161 432.79917zM728.572524 789.878798c-26.02677 20.157085-54.736649 36.553521-85.487 48.818869-36.682457-32.144094-83.60207-49.779753-132.792399-49.779753-48.926316 0-95.838765 17.635659-132.767839 49.786916-30.744211-12.262278-59.45716-28.655643-85.491093-48.812729 9.894348-47.441499 1.889023-96.449679-22.763446-138.627291-24.448832-41.966811-63.427588-73.339332-110.186542-88.840374-2.381234-16.343223-3.584642-32.758078-3.584642-48.869011 0-16.043395 1.203408-32.451086 3.584642-48.851615 46.612621-15.389502 85.584214-46.758953 110.186542-88.850607 24.523533-42.024116 32.525788-91.033319 22.74912-138.620128 26.0237-20.149922 54.735625-36.543288 85.494163-48.815799 36.821627 32.201399 83.73817 49.861618 132.778072 49.861618 49.194422 0 96.109941-17.635659 132.792399-49.779753 30.751375 12.269441 59.45716 28.662807 85.48086 48.812729-9.809413 47.63388-1.835811 96.634898 22.667256 138.620128 24.445762 41.966811 63.416332 73.343425 110.182448 88.850607 2.381234 16.386202 3.584642 32.801057 3.584642 48.940642 0.143263 15.443737-1.031493 31.797194-3.499707 48.701189-46.763047 15.504112-85.73771 46.873564-110.186542 88.836281C726.84416 693.189665 718.845998 742.190683 728.572524 789.878798z</Geometry>
        
        <!-- Themes Icon Geometry -->
   <Geometry x:Key="ThemesIconGeometry">M512 960C264.533333 960 64 759.466667 64 512S264.533333 64 512 64 960 264.533333 960 512c0 81.066667-89.6 98.133333-170.666667 115.2-55.466667 12.8-110.933333 21.333333-132.266666 51.2-29.866667 34.133333-34.133333 85.333333-38.4 132.266667-8.533333 68.266667-12.8 149.333333-106.666667 149.333333z m0-853.333333c-221.866667 0-405.333333 183.466667-405.333333 405.333333s183.466667 405.333333 405.333333 405.333333c46.933333 0 55.466667-34.133333 64-110.933333 4.266667-55.466667 8.533333-115.2 46.933333-157.866667 34.133333-38.4 98.133333-51.2 157.866667-64 81.066667-17.066667 136.533333-29.866667 136.533333-72.533333 0-221.866667-183.466667-405.333333-405.333333-405.333333z M597.333333 384c-46.933333 0-85.333333-38.4-85.333333-85.333333s38.4-85.333333 85.333333-85.333334 85.333333 38.4 85.333334 85.333334-38.4 85.333333-85.333334 85.333333z m0-128c-25.6 0-42.666667 17.066667-42.666666 42.666667s17.066667 42.666667 42.666666 42.666666 42.666667-17.066667 42.666667-42.666666-17.066667-42.666667-42.666667-42.666667zM341.333333 469.333333c-46.933333 0-85.333333-38.4-85.333333-85.333333s38.4-85.333333 85.333333-85.333333 85.333333 38.4 85.333334 85.333333-38.4 85.333333-85.333334 85.333333z m0-128c-25.6 0-42.666667 17.066667-42.666666 42.666667s17.066667 42.666667 42.666666 42.666667 42.666667-17.066667 42.666667-42.666667-17.066667-42.666667-42.666667-42.666667zM362.666667 746.666667c-46.933333 0-85.333333-38.4-85.333334-85.333334s38.4-85.333333 85.333334-85.333333 85.333333 38.4 85.333333 85.333333-38.4 85.333333-85.333333 85.333334z m0-128c-25.6 0-42.666667 17.066667-42.666667 42.666666 0 21.333333 17.066667 42.666667 42.666667 42.666667s42.666667-21.333333 42.666666-42.666667-17.066667-42.666667-42.666666-42.666666z</Geometry>
        
        <!-- About Icon Geometry -->
     <Geometry x:Key="AboutIconGeometry">M512 64c247.424 0 448 200.576 448 448s-200.576 448-448 448S64 759.424 64 512 264.576 64 512 64z m0 85.333333C311.701333 149.333333 149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667S712.298667 149.333333 512 149.333333z m21.333333 277.333334a21.333333 21.333333 0 0 1 21.333334 21.333333v298.666667a21.333333 21.333333 0 0 1-21.333334 21.333333h-42.666666a21.333333 21.333333 0 0 1-21.333334-21.333333V448a21.333333 21.333333 0 0 1 21.333334-21.333333h42.666666z m0-170.666667a21.333333 21.333333 0 0 1 21.333334 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333334 21.333333h-42.666666a21.333333 21.333333 0 0 1-21.333334-21.333333v-42.666667a21.333333 21.333333 0 0 1 21.333334-21.333333h42.666666z</Geometry>
    </UserControl.Resources>

    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
            <RowDefinition Height="36"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" 
            Background="{DynamicResource PanelBackgroundBrush}"
     BorderBrush="{DynamicResource WindowBorderBrush}"
        BorderThickness="0,1,0,0">
            <ContentControl x:Name="PageContent" Content="{Binding CurrentPage,RelativeSource={RelativeSource AncestorType=local:MenuPanel}}"/>
     </Border>

        <Grid Grid.Row="1" 
    Background="Transparent"
  Margin="0,0,0,0">

            <Grid.ColumnDefinitions>
  <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
     <ColumnDefinition Width="*"/>
         </Grid.ColumnDefinitions>
   <Button x:Name="TimerConfigurationButton" 
        Grid.Column="0" 
           Click="TimerConfigurationButton_Click"
     Style="{StaticResource MenuButtonStyle}" Height="36">
     <Viewbox Width="20" Height="20">
   <Path Data="{StaticResource TimerIconGeometry}" 
               Stroke="{DynamicResource IconBrush}" 
          StrokeThickness="40"
     StrokeStartLineCap="Round"
            StrokeEndLineCap="Round"
       StrokeLineJoin="Round"
    Fill="Transparent"/>
        </Viewbox>
            </Button>

      <Button x:Name="OptionsButton" 
         Grid.Column="1" 
         Click="OptionsButton_Click"
 Height="36"
 Style="{StaticResource MenuButtonStyle}">
       <Viewbox Width="20" Height="20">
              <Path Data="{StaticResource SettingsIconGeometry}" 
             Fill="{DynamicResource IconBrush}"/>
   </Viewbox>
     </Button>

      <Button x:Name="ThemesButton" 
       Grid.Column="2" 
     Click="ThemesButton_Click"
   Height="36"
   Style="{StaticResource MenuButtonStyle}">
            <Viewbox Width="20" Height="20">
        <Path Data="{StaticResource ThemesIconGeometry}" 
  Fill="{DynamicResource IconBrush}"/>
           </Viewbox>
         </Button>

  <Button x:Name="AboutButton" 
   Grid.Column="3" 
      Click="AboutButton_Click"
       Height="36"
  Style="{StaticResource MenuButtonStyle}">
            <Viewbox Width="20" Height="20">
        <Path Data="{StaticResource AboutIconGeometry}" 
     Fill="{DynamicResource IconBrush}"/>
     </Viewbox>
      </Button>
        </Grid>
    </Grid>
</UserControl>
