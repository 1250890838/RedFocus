<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="clr-namespace:RedFocus.Converters"
                    xmlns:local="clr-namespace:RedFocus.Controls"
                    >
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    <converters:CharacterSpacingConverter x:Key="CharacterSpacingConverter"/>
    <Style TargetType="{x:Type local:CountdownCircle}">
        <Setter Property="Width" Value="200"/>
        <Setter Property="Height" Value="200"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:CountdownCircle}">
                    <Grid>
                        <Viewbox Stretch="Uniform">
                            <Canvas Width="200" Height="200">
                                <Ellipse Canvas.Left="0" Canvas.Top="0"
                                       Width="200" Height="200"
                                       Stroke="{TemplateBinding BackgroundCircleColor}"
                                       StrokeThickness="{TemplateBinding CircleThickness}"
                                       Fill="Transparent"/>
                                <Path x:Name="PART_ProgressPath"
                                      Canvas.Left="0" Canvas.Top="0"
                                      Stroke="{TemplateBinding CircleColor}"
                                      StrokeThickness="10"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      Fill="Transparent"/>
                                <TextBlock x:Name="TimeText"
                                         Canvas.Left="10" Canvas.Top="75"
                                         Text="{TemplateBinding DisplayText}"
                                         FontSize="32"
                                         FontWeight="Bold"
                                         Foreground="{TemplateBinding TextColor}"
                                         TextAlignment="Center"
                                         Width="180"
                                         Visibility="{TemplateBinding ShowText, Converter={StaticResource BooleanToVisibilityConverter}}">
                                </TextBlock>
                                <TextBlock x:Name="StatusTextBlock"
                                         Canvas.Left="10" Canvas.Top="130"
                                         Text="{TemplateBinding StatusText, Converter={StaticResource CharacterSpacingConverter}}"
                                         FontSize="16"
                                         Foreground="{TemplateBinding TextColor}"
                                         TextAlignment="Center"
                                         Width="180"
                                         Visibility="{TemplateBinding ShowText, Converter={StaticResource BooleanToVisibilityConverter}}"
                                           >
                                </TextBlock>
                            </Canvas>
                        </Viewbox>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <converters:CircleCornerConverter x:Key="circleCornetConverter"/>
    <Style TargetType="local:SwitchButton">
        <Setter Property="IsActive" Value="{Binding IsRunning}"/>
        <Setter Property="Content" Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=UnicodeChar}"/>
        <Setter Property="Width" Value="58"/>
        <Setter Property="Height" Value="58"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Pink"/>
        <Setter Property="BorderThickness" Value="1.2"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="Command" Value="{Binding ToggleCommand}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:SwitchButton">
                    <Border x:Name="TemplateBorder" 
            BorderThickness="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=BorderThickness}" 
            Background="{TemplateBinding Background}" 
            BorderBrush="{TemplateBinding BorderBrush}" 
            CornerRadius="{TemplateBinding Width, Converter={StaticResource circleCornetConverter}}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="TemplateBorder" Property="Background" Value="Red"/>
                        </Trigger>
                        <Trigger Property="IsActive" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard Name="ActivateFlash">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="TemplateBorder" 
                                       Storyboard.TargetProperty="Opacity" 
                                         From="1"
                                       To="0" Duration="0:0:0.2"/>
                                        <DoubleAnimation Storyboard.TargetName="TemplateBorder" 
                                       Storyboard.TargetProperty="Opacity"
                                         From="0"
                                       To="1" Duration="0:0:0.5" 
                                       BeginTime="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard Name="DeactivateFlash">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="TemplateBorder" 
                                  Storyboard.TargetProperty="Opacity" 
                                    From="1"
                                  To="0" Duration="0:0:0.2"/>
                                        <DoubleAnimation Storyboard.TargetName="TemplateBorder" 
                                  Storyboard.TargetProperty="Opacity"
                                    From="0"
                                  To="1" Duration="0:0:0.5" 
                                  BeginTime="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="Button" x:Key="TextButton">
        <Setter Property="Foreground" Value="White" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="Red"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <converters:TimeSpanToDoubleConverter x:Key="timeSpanToDoubleConverter" />
    <converters:TimeSpanToMMSSConverter x:Key="timeSpanToMMSSConverter" />
    <Style x:Key="ModernSliderThumbStyle" TargetType="{x:Type Thumb}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid Background="Transparent">
                        <Ellipse x:Name="Dot" Width="20" Height="20" 
                                 Fill="#007ACC" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ModernSliderStyle" TargetType="{x:Type Slider}">
        <Setter Property="IsMoveToPointEnabled" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Slider}">
                    <Grid VerticalAlignment="Center">
                        <Track x:Name="PART_Track">
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Background="Transparent" BorderBrush="Transparent" Foreground="Transparent">
                                    <RepeatButton.Style>
                                        <Style TargetType="RepeatButton">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="RepeatButton">
                                                        <Border Height="4" Background="Pink" VerticalAlignment="Center"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Background="Transparent" BorderBrush="Transparent" Foreground="Transparent">
                                    <RepeatButton.Style>
                                        <Style TargetType="RepeatButton">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="RepeatButton">
                                                        <Border Height="4" Background="Gray" VerticalAlignment="Center"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb Style="{StaticResource ModernSliderThumbStyle}" VerticalAlignment="Center"/>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <Style TargetType="{x:Type local:TimeIntervalSlider}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:TimeIntervalSlider}">
                    <StackPanel x:Name="Container">
                        <TextBlock Text="{TemplateBinding Title}" Foreground="{TemplateBinding TitleBrush}"
                    FontSize="{TemplateBinding TitleFontSize}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Padding="3.5,2.5" Margin="0,10,0,0" Background="{TemplateBinding TimeIntervalTextBackgroundBrush}" 
                                   Foreground="{TemplateBinding TimeIntervalTextBrush}" FontSize="{TemplateBinding TimeIntervalTextFontSize}"
                                   Text="{TemplateBinding TimeInterval,Converter={ StaticResource timeSpanToMMSSConverter}}" HorizontalAlignment="Center" 
                                   Typography.SlashedZero="True" FontFamily="Consolas"
                                   />
                        <Slider x:Name="InnerSlider"
                                Margin="0,10,0,0" HorizontalAlignment="Stretch" 
                                Value="{Binding RelativeSource={RelativeSource Mode=TemplatedParent},Path=TimeInterval, Converter={StaticResource timeSpanToDoubleConverter},Mode=TwoWay}" 
                                Maximum="{TemplateBinding MaxTimeInterval, Converter={StaticResource timeSpanToDoubleConverter}}"
                                Style="{StaticResource ModernSliderStyle}"
                                SmallChange="1"
                                TickFrequency="1"
                                IsSnapToTickEnabled="True"
                                >
                        </Slider>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:TimeIntervalSlider}" x:Key="IntRoundsSlider">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:TimeIntervalSlider}">
                    <StackPanel x:Name="Container">
                        <TextBlock Text="{TemplateBinding Title}" Foreground="{TemplateBinding TitleBrush}"
                    FontSize="{TemplateBinding TitleFontSize}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Padding="3.5,2.5" Margin="0,10,0,0" Background="{TemplateBinding TimeIntervalTextBackgroundBrush}" 
                                   Foreground="{TemplateBinding TimeIntervalTextBrush}" FontSize="{TemplateBinding TimeIntervalTextFontSize}"
                                   Text="{TemplateBinding TimeInterval,Converter={ StaticResource timeSpanToMMSSConverter}, ConverterParameter='Pure'}" HorizontalAlignment="Center" 
                                   Typography.SlashedZero="True" FontFamily="Consolas"
                                   />
                        <Slider x:Name="InnerSlider" Margin="0,10,0,0" HorizontalAlignment="Stretch" 
                                Value="{Binding RelativeSource={RelativeSource Mode=TemplatedParent},Path=TimeInterval, Converter={StaticResource timeSpanToDoubleConverter},Mode=TwoWay}" 
                                Maximum="{TemplateBinding MaxTimeInterval, Converter={StaticResource timeSpanToDoubleConverter}}"
                                Style="{StaticResource ModernSliderStyle}"
                                SmallChange="1"
                                TickFrequency="1"
                                IsSnapToTickEnabled="True"
                                >
                        </Slider>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>